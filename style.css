/* Base */
:root{
  --bg:#f7f7f9;
  --panel:#ffffff;
  --ink:#2b2b2b;
  --ink-soft:#666;
  --brand:#2c3e50;
  --accent:#2980b9;
  --shadow:0 2px 6px rgba(0,0,0,.08);
}

*{box-sizing:border-box}
html,body{height:100%}
body {
  font-family: system-ui, -apple-system, "Segoe UI", Roboto, Arial, "Helvetica Neue", sans-serif;
  margin: 0;
  background: var(--bg);
  color: var(--ink);
}

/* Header */
header {
  background: var(--brand);
  color: #fff;
  padding: 1rem;
  text-align: center;
}
header h1{margin:.2rem 0 0}
header p{margin:.2rem 0 0; color:#e9eef3}

/* Filtros */
#filtros {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  gap: .75rem;
  padding: 1rem;
  background: #ecf0f1;
  align-items:end;
}
.filtro-item{
  display:flex;
  flex-direction:column;
  gap:.35rem;
}
#filtros label{
  font-size:.9rem;
  color: var(--ink-soft);
}
#filtros select,#filtros input[type="date"], #filtros input[type="number"]{
  width:100%;
  padding:.55rem .6rem;
  border-radius:8px;
  border:1px solid #d0d7de;
  background:#fff;
}
#btnLimpiar{
  padding:.6rem .8rem; border-radius:8px; border:1px solid #cfd8e3; background:#fff; cursor:pointer;
}
#btnLimpiar:hover{ background:#f1f5f9; }

/* KPIs */
#kpis{
  display:grid;
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  gap: 1rem;
  padding: 1rem;
}
.kpi{
  background: var(--panel);
  border-radius: 12px;
  box-shadow: var(--shadow);
  padding: .9rem;
}
.kpi-title{ font-size:.85rem; color: var(--ink-soft); }
.kpi-value{ font-size:1.4rem; font-weight:700; margin-top:.2rem; }

/* Gr√°ficos */
#graficos {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
  gap: 1rem;
  padding: 1rem;
}
.grafico-container {
  background: var(--panel);
  padding: 1rem;
  border-radius: 12px;
  box-shadow: var(--shadow);
  display:flex;
  flex-direction:column;
  overflow:hidden;
  min-height: 280px;
}
/* Contenedores con alturas adaptables controladas */
.grafico-container.pie { height: clamp(300px, 36vh, 520px); }
.grafico-container.bar { height: clamp(320px, 36vh, 540px); }
.grafico-container.wide { height: clamp(340px, 42vh, 560px); }

.grafico-container h2{
  margin:.2rem 0 .6rem;
  font-size:1.02rem;
  font-weight:600;
  color: var(--brand);
}
.grafico-container canvas{
  width: 100% !important;
  height: 100% !important;
  flex:1;
  display:block;
  contain: content;
}

/* Noticias grid */
#noticias {
  padding: 1rem;
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
  gap: 1rem;
}

.noticia {
  background: var(--panel);
  border-radius: 12px;
  padding: 1rem;
  box-shadow: var(--shadow);
}
.noticia h2 { margin: 0 0 .5rem 0; font-size: 1.05rem; line-height:1.4; }
.noticia h2 a { color: var(--accent); text-decoration: none; }
.noticia h2 a:hover { text-decoration: underline; }
.noticia p{margin:.25rem 0}

footer {
  background: var(--brand);
  color: white;
  text-align: center;
  padding: .8rem;
  margin-top: .5rem;
  font-size:.9rem;
}

/* Mobile tweaks */
@media (max-width: 520px){
  header h1{font-size:1.25rem}
  .grafico-container.pie { height: clamp(280px, 42vh, 520px); }
  .grafico-container.wide { height: clamp(320px, 44vh, 580px); }
}
